{
	"info": {
		"name": "Candidate Management Tests",
		"_postman_id": "d78902a8-8ab5-dad9-4b9f-a8d4a514ae6c",
		"description": "This collection contains all of the rest points' tests of our app.",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Testing \"Create a candidate\" (NotValidated)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "716e3b62-4dd9-498e-be8f-254ab8abe56e",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Requset unsuccesfull\", function () {",
							"    pm.response.to.have.status(400);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{}"
				},
				"url": "http://localhost:8080/api/candidate-validation/add-candidate",
				"description": "null candidate"
			},
			"response": []
		},
		{
			"name": "Testing \"Create a candidate\" (NotValidated)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "54d39b6d-f99e-4f1b-ac04-ab30783d6461",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});",
							"",
							"pm.test(\"The Candidate is Not Yet Validated\", function () {",
							"        pm.expect(pm.response.json().checkCandidate).to.eql(\"NOT_YET_VALIDATED\");",
							"});",
							"",
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidates/' + pm.response.json().id,",
							"    method: 'DELETE'",
							"}, function (err, res) {",
							"    ",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"firstName\": \"Paxton\",\n  \"lastName\": \"Tresvina\",\n  \"email\": \"ptresvina0@ucoz.ru\",\n  \"phone\": \"09812054304\",\n  \"checkCandidate\" : \"VALIDATED\"\n}"
				},
				"url": "http://localhost:8080/api/candidate-validation/add-candidate",
				"description": "With first name, last name, phone, email and checkCandidate set as \"VALIDATED\""
			},
			"response": []
		},
		{
			"name": "Testing \"Find a Candidate\"",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b4029e90-b476-44fc-a9f8-2e0a19f10506",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"The Candidate is not yet validated\", function () {",
							"    pm.expect(pm.response.json().checkCandidate).to.eql(\"NOT_YET_VALIDATED\");",
							"});",
							"",
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidates/' + pm.globals.get(\"temp_id\"),",
							"    method: 'DELETE'",
							"}, function (err, res) {",
							"});",
							"",
							"pm.globals.unset(\"temp_id\");"
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "a8b9b958-2be4-46b6-b519-feff786f5bb6",
						"type": "text/javascript",
						"exec": [
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidate-validation/add-candidate',",
							"    method: 'POST',",
							"    header: 'Content-Type:application/json',",
							"    body: {",
							"        mode: 'raw',",
							"        raw: JSON.stringify({",
							"            \"firstName\": \"Paxton\",",
							"            \"lastName\": \"Tresvina\",",
							"            \"email\": \"ptresvina0@ucoz.ru\",",
							"            \"phone\": \"09812054304\",",
							"            \"checkCandidate\" : \"VALIDATED\"",
							"            })",
							"    }",
							"}, function (err, res) {",
							"    pm.globals.set(\"temp_id\", res.json().id);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": "http://localhost:8080/api/candidates/{{temp_id}}",
				"description": ""
			},
			"response": []
		},
		{
			"name": "Testing \"Validate Candidate\"",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bd4ff8ac-f761-4427-875d-8f1e1ec27a4c",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidates/' + pm.globals.get(\"temp_id\"),",
							"    method: 'GET'",
							"}, function (err, res) {",
							"    pm.test(\"The Candidate is Validated\", function () {",
							"        pm.expect(res.json().checkCandidate).to.eql(\"VALIDATED\");",
							"    });",
							"});",
							"",
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidates/' + pm.globals.get(\"temp_id\"),",
							"    method: 'DELETE'",
							"}, function (err, res) {",
							"});",
							"",
							"",
							"pm.globals.unset(\"temp_id\");"
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "590adc81-30a4-4653-a64f-3b1087a88218",
						"type": "text/javascript",
						"exec": [
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidate-validation/add-candidate',",
							"    method: 'POST',",
							"    header: 'Content-Type:application/json',",
							"    body: {",
							"        mode: 'raw',",
							"        raw: JSON.stringify({",
							"            \"firstName\": \"Paxton\",",
							"            \"lastName\": \"Tresvina\",",
							"            \"email\": \"one@and.only\",",
							"            \"phone\": \"09812054304\",",
							"            \"checkCandidate\" : \"VALIDATED\"",
							"            })",
							"    }",
							"}, function (err, res) {",
							"    pm.globals.set(\"temp_id\", res.json().id);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": "http://localhost:8080/api/candidate-validation/validate/{{temp_id}}",
				"description": "with no duplicates"
			},
			"response": []
		},
		{
			"name": "Testing \"Validate Candidate\"",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "0f83991d-6143-4173-8f61-c555eca69c46",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidates/' + pm.globals.get(\"temp_id\"),",
							"    method: 'GET'",
							"}, function (err, res) {",
							"    pm.test(\"The Candidate is Not Yet Validated\", function () {",
							"        pm.expect(res.json().checkCandidate).to.eql(\"NOT_YET_VALIDATED\");",
							"    });",
							"});",
							"",
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidates/' + pm.globals.get(\"temp_id\"),",
							"    method: 'DELETE'",
							"}, function (err, res) {",
							"});",
							"",
							"",
							"pm.globals.unset(\"temp_id\");"
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "d1e6fbcd-6118-4281-8478-56e3e31fdad4",
						"type": "text/javascript",
						"exec": [
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidates/',",
							"    method: 'POST',",
							"    header: 'Content-Type:application/json',",
							"    body: {",
							"        mode: 'raw',",
							"        raw: JSON.stringify({",
							"            \"firstName\": \"Paxton\",",
							"            \"lastName\": \"Tresvina\",",
							"            \"email\": \"not@so.unique\",",
							"            \"phone\": \"09812054304\",",
							"            \"checkCandidate\" : \"VALIDATED\"",
							"            })",
							"    }",
							"}, function (err, res) {",
							"});",
							"",
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidate-validation/add-candidate',",
							"    method: 'POST',",
							"    header: 'Content-Type:application/json',",
							"    body: {",
							"        mode: 'raw',",
							"        raw: JSON.stringify({",
							"            \"firstName\": \"Paxton\",",
							"            \"lastName\": \"Tresvina\",",
							"            \"email\": \"not@so.unique\",",
							"            \"phone\": \"09812054304\",",
							"            \"checkCandidate\" : \"VALIDATED\"",
							"            })",
							"    }",
							"}, function (err, res) {",
							"    pm.globals.set(\"temp_id\", res.json().id);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": "http://localhost:8080/api/candidate-validation/validate/{{temp_id}}",
				"description": "with duplicates"
			},
			"response": []
		},
		{
			"name": "Testing \"Edit a candidate\"",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "68c1a30a-4be4-49db-b016-ad0ef8835024",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"First name is changed \", function () {",
							"    pm.expect(pm.response.json().firstName).to.eql(\"test\");",
							"});",
							"",
							"pm.test(\"Last name is changed \", function () {",
							"    pm.expect(pm.response.json().lastName).to.eql(\"test\");",
							"});",
							"",
							"pm.test(\"Email is changed \", function () {",
							"    pm.expect(pm.response.json().email).to.eql(\"test@test.test\");",
							"});",
							"",
							"pm.test(\"Phone is default \", function () {",
							"    pm.expect(pm.response.json().phone).to.eql(null);",
							"});",
							"",
							"pm.test(\"Check candidate is changed \", function () {",
							"    pm.expect(pm.response.json().checkCandidate).to.eql(\"VALIDATED\");",
							"});",
							"",
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidates/' + pm.globals.get(\"temp_id\"),",
							"    method: 'DELETE'",
							"}, function (err, res) {",
							"});",
							"",
							"pm.globals.unset(\"temp_id\");"
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "db82196b-e9fe-4d9a-8d3a-501e9dd1cf0b",
						"type": "text/javascript",
						"exec": [
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidate-validation/add-candidate',",
							"    method: 'POST',",
							"    header: 'Content-Type:application/json',",
							"    body: {",
							"        mode: 'raw',",
							"        raw: JSON.stringify({",
							"            \"firstName\": \"Paxton\",",
							"            \"lastName\": \"Tresvina\",",
							"            \"email\": \"one@and.only\",",
							"            \"phone\": \"09812054304\",",
							"            \"checkCandidate\" : \"NOT_YET_VALIDATED\"",
							"            })",
							"    }",
							"}, function (err, res) {",
							"    pm.globals.set(\"temp_id\", res.json().id);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"firstName\": \"test\",\n  \"lastName\": \"test\",\n  \"email\": \"test@test.test\",\n  \"checkCandidate\" : \"VALIDATED\"\n}"
				},
				"url": "http://localhost:8080/api/candidates/{{temp_id}}",
				"description": ""
			},
			"response": []
		},
		{
			"name": "Testing \"Delete a Candidate\"",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "34baa6fe-9a78-41a1-86cb-0059a0c234e3",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 204\", function () {",
							"    pm.response.to.have.status(204);",
							"});",
							"",
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidates/' + pm.globals.get(\"temp_id\"),",
							"    method: 'GET'",
							"}, function (err, res) {",
							"    pm.test(\"Status code is 404\", function () {",
							"        pm.expect(res.code).to.eq(404);",
							"    });",
							"});",
							"",
							"pm.globals.unset(\"temp_id\");"
						]
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "dfb4c259-e21e-4c0d-84d8-dc4480b1bf2d",
						"type": "text/javascript",
						"exec": [
							"pm.sendRequest({",
							"    url: 'http://localhost:8080/api/candidate-validation/add-candidate',",
							"    method: 'POST',",
							"    header: 'Content-Type:application/json',",
							"    body: {",
							"        mode: 'raw',",
							"        raw: JSON.stringify({",
							"            \"firstName\": \"Paxton\",",
							"            \"lastName\": \"Tresvina\",",
							"            \"email\": \"one@and.only\",",
							"            \"phone\": \"09812054304\",",
							"            \"checkCandidate\" : \"NOT_YET_VALIDATED\"",
							"            })",
							"    }",
							"}, function (err, res) {",
							"    pm.globals.set(\"temp_id\", res.json().id);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/x-www-form-urlencoded"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": "http://localhost:8080/api/candidates/{{temp_id}}",
				"description": ""
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "dfc59610-5ef2-4f3c-ba7e-bbe9a787458c",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "f3e782c6-36c1-4937-ad43-7167202bd04d",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}